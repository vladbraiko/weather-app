(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"1DEj":function(e,t,n){},"3Olm":function(e,t){const n=document.querySelector(".date__day"),a=document.querySelector(".date__month"),l=document.querySelector(".date__time");setInterval(()=>{const e=new Date;dayNow=e.getDate();const t=new Array;t[0]="Sun",t[1]="Mon",t[2]="Tue",t[3]="Wed",t[4]="Thu",t[5]="Fri",t[6]="Sat",weekDayNow=t[e.getDay()],n.innerHTML=`${dayNow}<sup class="date__day--nth">${function(e){if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}(dayNow)}</sup> ${weekDayNow}`;const s=new Array;s[0]="January",s[1]="February",s[2]="March",s[3]="April",s[4]="May",s[5]="June",s[6]="July",s[7]="August",s[8]="September",s[9]="October",s[10]="November",s[11]="December",a.textContent=s[e.getMonth()],l.textContent=o(e.getHours())+":"+o(e.getMinutes())+":"+o(e.getSeconds())},1e3);function o(e){return String(e).padStart(2,"0")}},"7jFK":function(e,t){const n=document.querySelector(".days-list");document.querySelectorAll(".days-list__item");n.addEventListener("click",(function(e){e.preventDefault(),"BUTTON"==e.target.nodeName&&(e=>{document.querySelectorAll(".days-list__item").forEach(e=>{const t=e.childNodes[1],n=e.childNodes[9];t.classList.remove("days-list__day-of-the-week--active"),n.classList.remove("days-list__more-btn__active")});const t=e.target;e.path[1].firstElementChild.classList.add("days-list__day-of-the-week--active"),t.classList.add("days-list__more-btn__active")})(e)}))},MyEh:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,l){var o,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c="function",i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="temperature-box">\n    <img src="'+i(typeof(o=null!=(o=u(n,"icon")||(null!=t?u(t,"icon"):t))?o:r)===c?o.call(s,{name:"icon",hash:{},data:l,loc:{start:{line:2,column:14},end:{line:2,column:22}}}):o)+'" alt="'+i(typeof(o=null!=(o=u(n,"iconDescription")||(null!=t?u(t,"iconDescription"):t))?o:r)===c?o.call(s,{name:"iconDescription",hash:{},data:l,loc:{start:{line:2,column:29},end:{line:2,column:48}}}):o)+'" class="weather-picture-icon">\n    <p class="temperature-header">'+i(typeof(o=null!=(o=u(n,"city")||(null!=t?u(t,"city"):t))?o:r)===c?o.call(s,{name:"city",hash:{},data:l,loc:{start:{line:3,column:34},end:{line:3,column:42}}}):o)+", "+i(typeof(o=null!=(o=u(n,"countryCode")||(null!=t?u(t,"countryCode"):t))?o:r)===c?o.call(s,{name:"countryCode",hash:{},data:l,loc:{start:{line:3,column:44},end:{line:3,column:59}}}):o)+'</p>\n    <div class="degree-box">\n        <p class="degree-title">'+i(typeof(o=null!=(o=u(n,"temp")||(null!=t?u(t,"temp"):t))?o:r)===c?o.call(s,{name:"temp",hash:{},data:l,loc:{start:{line:5,column:32},end:{line:5,column:40}}}):o)+'&deg</p>\n        <ul class="degree-list">\n            <li class="degree-item degree-item--line">\n                <p class="degree-first-subtitle">min</p>\n                <p class="degree-second-subtitle">'+i(typeof(o=null!=(o=u(n,"tempMin")||(null!=t?u(t,"tempMin"):t))?o:r)===c?o.call(s,{name:"tempMin",hash:{},data:l,loc:{start:{line:9,column:50},end:{line:9,column:61}}}):o)+' &deg</p>\n            </li>\n            <li class="degree-item">\n                <p class="degree-first-subtitle">max</p>\n                <p class="degree-second-subtitle">'+i(typeof(o=null!=(o=u(n,"tempMax")||(null!=t?u(t,"tempMax"):t))?o:r)===c?o.call(s,{name:"tempMax",hash:{},data:l,loc:{start:{line:13,column:50},end:{line:13,column:61}}}):o)+" &deg</p>\n            </li>\n        </ul>\n    </div>\n</div>"},useData:!0})},QfWi:function(e,t,n){"use strict";n.r(t);n("1DEj");var a=n("MyEh"),l=n.n(a),o=n("sntm"),s=n.n(o),r=n("xDKS"),c=n.n(r);const i=document.querySelector(".search-location__form"),u=document.querySelector(".btn-today-js"),d=document.querySelector(".btn-5-days-js"),m=document.querySelector(".btn-today-js"),p=document.querySelector(".content-box"),y=document.querySelector(".btn-box"),h=document.querySelector(".part2"),f=document.querySelector(".part3"),g=document.querySelector(".five-days-containeer"),_=document.querySelector(".moreInfo"),b=document.querySelector(".date__sunrise--time"),v=document.querySelector(".date__sunset--time"),x=document.querySelector(".days-list"),D=document.querySelector(".moreInfo__block"),w=document.querySelector(".part2-city"),M=document.querySelector(".five-days-containeer__city-name");let S="",k="",q={},L={};function T(e){return e<10&&(e="0"+e),e}const N=(e,t)=>{const n=T(e.getHours()),a=T(e.getMinutes()),l=T(t.getHours()),o=T(t.getMinutes());b.textContent=n+":"+a,v.textContent=l+":"+o},C=e=>{document.querySelector(".temperature-box")?(document.querySelector(".temperature-box").remove(),p.insertAdjacentHTML("afterbegin",l()(e)),N(q.sunrise,q.sunset)):(p.insertAdjacentHTML("afterbegin",l()(e)),N(q.sunrise,q.sunset),h.style.display="flex",f.style.display="flex",g.style.display="none",g.style.borderRadius="35px",_.style.display="none",y.style.display="block",u.style.backgroundColor="#f7f7f7",d.removeAttribute("style"),w.removeAttribute("style"),h.classList.add("part2"),h.classList.remove("part2-fiveday"),p.classList.add("content-box"),p.classList.remove("content-box-fiveday"),w.style.display="none",w.classList.remove("display-block"))};function E(e,t){return"https://api.openweathermap.org/data/2.5/"+e+"?q="+t+"&appid=48f3906fa74131a752b29b56bb64ec12"}const j=async e=>{try{return(await fetch(e)).json()}catch(e){throw e}},O=(e,t)=>{"one"==e&&(q.temp=Math.floor(t.main.temp-273.15),q.tempMin=Math.floor(t.main.temp_min-273.15),q.tempMax=Math.floor(t.main.temp_max-273.15),q.city=t.name,q.countryCode=t.sys.country,q.sunrise=new Date(1e3*t.sys.sunrise),q.sunset=new Date(1e3*t.sys.sunset),q.icon="http://openweathermap.org/img/wn/"+t.weather[0].icon+".png",q.iconDescription=t.weather[0].description,C(q)),"five"==e&&(L.city=t.city.name,L.countryCode=t.city.country,L.list=t.list,L.days=[],L.list.map(e=>{const t=new Date(1e3*e.dt),n={};if(-1==L.days.map(e=>e.DayNum).indexOf(t.getDate())){n.DayNum=t.getDate(),n.Day=(e=>{const t=[];return t[0]="Sunday",t[1]="Monday",t[2]="Tuesday",t[3]="Wednesday",t[4]="Thursday",t[5]="Friday",t[6]="Saturday",t[e]})(t.getDay()),n.Month=(e=>{const t=[];return t[0]="Jan",t[1]="Feb",t[2]="Mar",t[3]="Apr",t[4]="May",t[5]="Jun",t[6]="Jul",t[7]="Aug",t[8]="Sep",t[9]="Oct",t[10]="Nov",t[11]="Dec",t[e]})(t.getMonth());const e=((a=t).setMilliseconds(0),a.setSeconds(0),a.setMinutes(0),a.setHours(12),L.list.find(e=>e.dt==a.getTime()/1e3));e&&(n.icon="http://openweathermap.org/img/wn/"+e.weather[0].icon+".png",n.iconDescription=e.weather[0].description),L.days.push(n)}var a}),L.days.map(e=>{const t=L.list.filter(t=>{if(new Date(1e3*t.dt).getUTCDate()==e.DayNum)return t});if(0==t.length)e.isData=!1;else{const n=t.map(e=>Math.floor(e.main.temp-273.15));e.TempMin=Math.min(...n),e.TempMax=Math.max(...n),e.list=t}}),0==L.days[5].isData?L.days.pop():L.days.shift(),console.log(L))};i.addEventListener("submit",(function(e){e.preventDefault();const t=new FormData(this);S=t.get("query"),k=E("weather",S),j(k).then(e=>O("one",e)),k=E("forecast",S),j(k).then(e=>O("five",e))})),m.addEventListener("click",()=>C(q)),d.addEventListener("click",()=>(e=>{document.querySelector(".temperature-box")&&(document.querySelector(".temperature-box").remove(),u.removeAttribute("style"),d.style.backgroundColor="#f7f7f7",w.removeAttribute("style"),w.classList.add("display-block"),w.textContent=L.city+", "+L.countryCode,M.textContent=L.city+", "+L.countryCode,h.classList.remove("part2"),h.classList.add("part2-fiveday"),p.classList.remove("content-box"),p.classList.add("content-box-fiveday"));const t=document.querySelectorAll(".days-list__item");t&&t.forEach(e=>e.remove()),f.style.display="none",g.style.display="block",x.innerHTML+=s()(e)})(L)),x.addEventListener("click",(function(e){e.preventDefault();const t=e.target;"BUTTON"==t.nodeName&&(e=>{g.style.borderRadius="35px 35px 0 0",_.style.display="block";const t=Number(e.dataset.day),n=document.querySelectorAll(".timeWeather");n&&n.forEach(e=>e.remove());L.days.forEach(e=>{if(e.DayNum==t){const t=[];e.list.forEach(e=>{const n=new Date(1e3*e.dt),a={};a.time=T(n.getHours())+":"+T(n.getMinutes()),a.temp=Math.floor(e.main.temp-273.15),a.humidity=e.main.humidity,a.pressure=e.main.pressure,a.speed=e.wind.speed.toFixed(1),a.icon="http://openweathermap.org/img/wn/"+e.weather[0].icon+".png",a.iconDescription=e.weather[0].description,t.push(a)}),D.innerHTML+=c()(t)}})})(t)}));function A(e,t,n){return"https://api.openweathermap.org/data/2.5/"+e+"?lat="+t+"&lon="+n+"&appid=48f3906fa74131a752b29b56bb64ec12"}const W=e=>{if(e){const t=e.lat.toFixed(2),n=e.lng.toFixed(2);k=A("weather",t,n),j(k).then(e=>O("one",e)),k=A("forecast",t,n),j(k).then(e=>O("five",e)),console.log(e)}else S="Kyiv",k=E("weather",S),j(k).then(e=>O("one",e)),k=E("forecast",S),j(k).then(e=>O("five",e))};W();n("tNz6");var Q={searchInput:document.querySelector(".search-location__form"),backgroundWrapper:document.querySelector(".background-wrapper"),addToLocalStorageBtn:document.querySelector(".search-location__form-btn"),form:document.querySelector(".search-form")},P=n("czhI"),F=n.n(P),H={searchQuery:"kiev",apiKey:"16192319-9ae9d95026dacaeb88e2fcf6c",makeQuery(){const e=`https://pixabay.com/api/?image_type=backgrounds&orientation=horizontal&q=${this.query}&per_page=7&key=${this.apiKey}`;return F.a.get(e).then(({data:{hits:e}})=>e)},makeReserveQuery(){const e=`https://pixabay.com/api/?image_type=backgrounds&orientation=horizontal&q=clouds&per_page=7&key=${this.apiKey}`;return F.a.get(e).then(({data:{hits:e}})=>e)},get query(){return this.searchQuery},set query(e){this.searchQuery=e}};function J(e){0===e.length?H.makeReserveQuery().then(J):Q.backgroundWrapper.style=`background: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.7)),\n  url('${e[6].largeImageURL}') center; background-size: cover;`}H.makeQuery().then(J).catch(()=>{H.makeReserveQuery().then(J)}),Q.searchInput.addEventListener("submit",(function(e){e.preventDefault();const t=e.currentTarget;H.query=t.elements.query.value,H.makeQuery().then(J)}));n("3Olm"),n("7jFK");const $=[];function I(){Q.addToLocalStorageBtn.classList.remove("search-location__form-btn-focus")}Q.addToLocalStorageBtn.addEventListener("click",(function(){const e=Q.form.value;Q.addToLocalStorageBtn.classList.add("search-location__form-btn-focus"),$.push(e),localStorage.setItem("city",JSON.stringify($)),Q.form.value="",setTimeout(I,800)})),navigator.geolocation.getCurrentPosition((function(e){const t=e.coords,n=`https://api.opencagedata.com/geocode/v1/json?q=${t.latitude}+${t.longitude}&key=d4683b09d0c94ec0aebf0b2e043decbf`;F.a.get(n).then(e=>e.data.results[0].geometry).then(e=>{W(e)}),F.a.get(n).then(e=>e.data.results[0].components.city).then(e=>{!function(e){H.query=e,H.makeQuery().then(J)}(e)})}))},sntm:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,l){var o,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c="function",i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="days-list__item">\n    <h3 class="days-list__day-of-the-week">\n        '+i(typeof(o=null!=(o=u(n,"Day")||(null!=t?u(t,"Day"):t))?o:r)===c?o.call(s,{name:"Day",hash:{},data:l,loc:{start:{line:4,column:8},end:{line:4,column:15}}}):o)+'\n    </h3>\n    <h4 class="days-list__date">'+i(typeof(o=null!=(o=u(n,"DayNum")||(null!=t?u(t,"DayNum"):t))?o:r)===c?o.call(s,{name:"DayNum",hash:{},data:l,loc:{start:{line:6,column:32},end:{line:6,column:42}}}):o)+" "+i(typeof(o=null!=(o=u(n,"Month")||(null!=t?u(t,"Month"):t))?o:r)===c?o.call(s,{name:"Month",hash:{},data:l,loc:{start:{line:6,column:43},end:{line:6,column:52}}}):o)+'</h4>\n    <img src="'+i(typeof(o=null!=(o=u(n,"icon")||(null!=t?u(t,"icon"):t))?o:r)===c?o.call(s,{name:"icon",hash:{},data:l,loc:{start:{line:8,column:14},end:{line:8,column:22}}}):o)+'" alt="'+i(typeof(o=null!=(o=u(n,"iconDescription")||(null!=t?u(t,"iconDescription"):t))?o:r)===c?o.call(s,{name:"iconDescription",hash:{},data:l,loc:{start:{line:8,column:29},end:{line:8,column:48}}}):o)+'" class="days-list__img">\n    <div class="days-list__temperature-block">\n        <div class="days-list__min days-list__min-max">\n            <p class="days-list__title">\n                min\n            </p>\n            <p class="days-list__value days-list__value--degrees">'+i(typeof(o=null!=(o=u(n,"TempMin")||(null!=t?u(t,"TempMin"):t))?o:r)===c?o.call(s,{name:"TempMin",hash:{},data:l,loc:{start:{line:14,column:66},end:{line:14,column:77}}}):o)+'</p>\n        </div>\n        <i class="days-list__line days-list__line--mobile "></i>\n        <i class="days-list__line days-list__line--tablet_desktop "></i>\n        <div class="days-list__min-max">\n            <p class="days-list__title">\n                max\n            </p>\n            <p class="days-list__value days-list__value--degrees">'+i(typeof(o=null!=(o=u(n,"TempMax")||(null!=t?u(t,"TempMax"):t))?o:r)===c?o.call(s,{name:"TempMax",hash:{},data:l,loc:{start:{line:22,column:66},end:{line:22,column:77}}}):o)+'</p>\n        </div>\n    </div>\n    <button class="days-list__more-btn" type="button" data-day="'+i(typeof(o=null!=(o=u(n,"DayNum")||(null!=t?u(t,"DayNum"):t))?o:r)===c?o.call(s,{name:"DayNum",hash:{},data:l,loc:{start:{line:25,column:64},end:{line:25,column:74}}}):o)+'">\n        more info\n    </button>\n</li>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,l){var o,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=s(n,"each").call(null!=t?t:e.nullContext||{},null!=t?s(t,"days"):t,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:1,column:0},end:{line:29,column:9}}}))?o:""},useData:!0})},tNz6:function(e,t){},xDKS:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,l){var o,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c="function",i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="timeWeather">\n    <p class="timeWeather__time">'+i(typeof(o=null!=(o=u(n,"time")||(null!=t?u(t,"time"):t))?o:r)===c?o.call(s,{name:"time",hash:{},data:l,loc:{start:{line:3,column:33},end:{line:3,column:41}}}):o)+'</p>\n    <p class="timeWeather__temp">\n        <img src="'+i(typeof(o=null!=(o=u(n,"icon")||(null!=t?u(t,"icon"):t))?o:r)===c?o.call(s,{name:"icon",hash:{},data:l,loc:{start:{line:5,column:18},end:{line:5,column:26}}}):o)+'" alt="'+i(typeof(o=null!=(o=u(n,"iconDescription")||(null!=t?u(t,"iconDescription"):t))?o:r)===c?o.call(s,{name:"iconDescription",hash:{},data:l,loc:{start:{line:5,column:33},end:{line:5,column:52}}}):o)+'" class="timeWeather__temp-icon">\n        <span>'+i(typeof(o=null!=(o=u(n,"temp")||(null!=t?u(t,"temp"):t))?o:r)===c?o.call(s,{name:"temp",hash:{},data:l,loc:{start:{line:6,column:14},end:{line:6,column:22}}}):o)+' &#176;</span>\n    </p>\n    <ul class="timeWeather__data">\n        <li class="timeWeather__pressure">'+i(typeof(o=null!=(o=u(n,"pressure")||(null!=t?u(t,"pressure"):t))?o:r)===c?o.call(s,{name:"pressure",hash:{},data:l,loc:{start:{line:9,column:42},end:{line:9,column:54}}}):o)+' mm</li>\n        <li class="timeWeather__humidity">'+i(typeof(o=null!=(o=u(n,"humidity")||(null!=t?u(t,"humidity"):t))?o:r)===c?o.call(s,{name:"humidity",hash:{},data:l,loc:{start:{line:10,column:42},end:{line:10,column:54}}}):o)+'%</li>\n        <li class="timeWeather__wind">'+i(typeof(o=null!=(o=u(n,"speed")||(null!=t?u(t,"speed"):t))?o:r)===c?o.call(s,{name:"speed",hash:{},data:l,loc:{start:{line:11,column:38},end:{line:11,column:47}}}):o)+" m/s</li>\n    </ul>\n</div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,l){var o;return null!=(o=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:1,column:0},end:{line:14,column:9}}}))?o:""},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.0d61459413b543def6f1.js.map